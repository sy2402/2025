import streamlit as st

# -------------------------------
# 페이지 기본 설정
# -------------------------------
st.set_page_config(page_title="💊 약물정보 & 복약지도 앱", page_icon="💊", layout="wide")
st.title("💊 약물정보 & 복약지도 앱")
st.markdown("의료인을 위한 **약물 검색 & 복약지도 도우미**입니다.")

# -------------------------------
# 사이드바 메뉴
# -------------------------------
menu = st.sidebar.radio("메뉴 선택", ["약물 검색", "복약지도 카드"])

# -------------------------------
# 약물 데이터 (예시)
# -------------------------------
drug_db = {
    "타이레놀": {
        "성분": "아세트아미노펜",
        "효능": "해열, 진통",
        "복용법": "성인 1회 500mg, 1일 3회까지",
        "주의사항": "간 손상 위험 ⚠️ 음주 병용 주의"
    },
    "알러지약": {
        "성분": "로라타딘",
        "효능": "알레르기 증상 완화",
        "복용법": "성인 1일 1정",
        "주의사항": "졸음 가능 🚗 운전 주의"
    }
}

# -------------------------------
# 기능 1: 약물 검색
# -------------------------------
if menu == "약물 검색":
    st.subheader("🔍 약물 검색")
    query = st.text_input("약물명 입력 (예: 타이레놀)")
    
    if query:
        if query in drug_db:
            info = drug_db[query]
            st.success(f"✅ **{query}** 검색 결과")
            st.write(f"**성분:** {info['성분']}")
            st.write(f"**효능/효과:** {info['효능']}")
            st.write(f"**복용법:** {info['복용법']}")
            st.write(f"**주의사항:** {info['주의사항']}")
        else:
            st.error("❌ 해당 약물 정보가 없습니다.")

# -------------------------------
# 기능 2: 복약지도 카드
# -------------------------------
elif menu == "복약지도 카드":
    st.subheader("💊 복약지도 카드 생성기")
    drug = st.selectbox("약물 선택", list(drug_db.keys()))
    if st.button("카드 만들기 ✨"):
        info = drug_db[drug]
        st.markdown(
            f"""
            ### 📋 {drug} 복약지도 카드  
            - 성분: **{info['성분']}**  
            - 효능: {info['효능']}  
            - 복용법: {info['복용법']}  
            - 주의사항: {info['주의사항']}  
            """
        )

