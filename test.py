import streamlit as st

# -------------------------------
# 페이지 기본 설정
# -------------------------------
st.set_page_config(page_title="💊 약물정보 검색", page_icon="💊", layout="wide")
st.title("💊 약물정보 검색 앱")
st.markdown("대표적인 **상품명**을 선택하면 성분과 복용 정보를 확인할 수 있습니다.")

# -------------------------------
# 대표 약물 데이터 (상품명 기준)
# -------------------------------
drug_db = {
    "타이레놀": {
        "성분": "아세트아미노펜",
        "효능": "해열, 진통",
        "복용법": "성인 1회 500mg, 1일 최대 3g",
        "주의사항": "간 손상 위험 ⚠️ 음주 병용 금지"
    },
    "애드빌": {
        "성분": "이부프로펜",
        "효능": "소염, 진통, 해열",
        "복용법": "성인 1회 200~400mg, 6~8시간 간격",
        "주의사항": "위장장애 ⚠️ 위궤양 환자 주의"
    },
    "브루펜": {
        "성분": "이부프로펜",
        "효능": "소염, 진통, 해열",
        "복용법": "성인 1회 200~400mg, 6~8시간 간격",
        "주의사항": "위장장애 ⚠️ 위궤양 환자 주의"
    },
    "아목사펜": {
        "성분": "아목시실린",
        "효능": "세균 감염 치료 (항생제)",
        "복용법": "성인 1회 500mg, 1일 3회",
        "주의사항": "알레르기 반응 🚨 페니실린 알러지 주의"
    },
    "클라리틴": {
        "성분": "로라타딘",
        "효능": "알레르기 증상 완화",
        "복용법": "성인 1일 10mg",
        "주의사항": "졸음 가능 🚗 운전 주의"
    },
    "겔포스": {
        "성분": "알루미늄 하이드록사이드 + 마그네슘 하이드록사이드",
        "효능": "위산 과다, 속쓰림 완화",
        "복용법": "성인 1회 10~20ml, 1일 3회",
        "주의사항": "신부전 환자 주의 ⚠️"
    },
    "오메프라졸(오엠프라)": {
        "성분": "오메프라졸",
        "효능": "위궤양, 역류성 식도염",
        "복용법": "성인 1일 20mg, 식전 복용",
        "주의사항": "장기 복용 시 비타민 B12 결핍 ⚠️"
    },
    "노바스크": {
        "성분": "암로디핀",
        "효능": "고혈압, 협심증",
        "복용법": "성인 1일 5mg, 최대 10mg",
        "주의사항": "부종, 어지럼증 ⚠️"
    },
    "글루코파지": {
        "성분": "메트포르민",
        "효능": "제2형 당뇨병",
        "복용법": "성인 1일 500mg 2~3회, 식후 복용",
        "주의사항": "저혈당 위험 🚨 신부전 환자 금기"
    },
    "리피토": {
        "성분": "아토르바스타틴",
        "효능": "고지혈증 치료",
        "복용법": "성인 1일 10~40mg",
        "주의사항": "간 기능 검사 필요 ⚠️ 근육통 발생 시 중단"
    }
}

# -------------------------------
# 약물 선택 기능 (드롭다운)
# -------------------------------
st.subheader("🔍 약물 검색")

drug = st.selectbox("상품명을 선택하세요 👇", [""] + list(drug_db.keys()))

if drug:
    info = drug_db[drug]
    
    st.markdown(
        f"""
        <div style="
            border-radius: 15px;
            border: 2px solid #1976D2;
            padding: 20px;
            margin-top: 15px;
            background-color: #E3F2FD;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.15);
        ">
            <h2 style="color:#0D47A1;">📋 {drug}</h2>
            <p><b>🧪 성분:</b> {info['성분']}</p>
            <p><b>✨ 효능/효과:</b> {info['효능']}</p>
            <p><b>🕒 복용법:</b> {info['복용법']}</p>
            <p><b>⚠️ 주의사항:</b> {info['주의사항']}</p>
        </div>
        """,
        unsafe_allow_html=True
    )
