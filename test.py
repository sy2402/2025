import streamlit as st

# ----------------------------
# Streamlit ì„¤ì •
# ----------------------------
st.set_page_config(page_title="íˆ¬ì•½ ê³„ì‚° & ì•½ë¬¼ ì•ˆì „ êµìœ¡", page_icon="ğŸ’Š", layout="wide")

st.title("ğŸ’Š íˆ¬ì•½ ê³„ì‚° & ì•½ë¬¼ ì•ˆì „ êµìœ¡ ì•±")
st.write("í™˜ì ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  ì•½ë¬¼ ê³„ì‚° ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”.")

# ----------------------------
# í™˜ì ì •ë³´ ì…ë ¥
# ----------------------------
col1, col2 = st.columns(2)
with col1:
    weight = st.number_input("í™˜ì ì²´ì¤‘ (kg)", min_value=1.0, max_value=200.0, value=60.0, step=0.5)
with col2:
    age = st.number_input("í™˜ì ë‚˜ì´ (ì„¸)", min_value=0, max_value=120, value=30, step=1)

# ----------------------------
# ì˜ˆì‹œ ë¬¸ì œ 1: ì†Œì•„ ìš©ëŸ‰ ê³„ì‚°
# ----------------------------
st.subheader("ğŸ“Œ ë¬¸ì œ 1: ì²´ì¤‘ ê¸°ë°˜ ì†Œì•„ ìš©ëŸ‰ ê³„ì‚°")
st.write("ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íœ ê¶Œì¥ ìš©ëŸ‰ì€ 10 mg/kg ì…ë‹ˆë‹¤. í™˜ìì—ê²Œ í•„ìš”í•œ 1íšŒ ìš©ëŸ‰ì€ ì–¼ë§ˆì¼ê¹Œìš”?")

correct_dose = weight * 10  # mg
user_answer = st.number_input("ê³„ì‚°í•œ ìš©ëŸ‰ (mg)", min_value=0.0, step=0.1)

if st.button("ì •ë‹µ í™•ì¸ (ë¬¸ì œ 1)"):
    if abs(user_answer - correct_dose) < 0.1:
        st.success(f"âœ… ì •ë‹µì…ë‹ˆë‹¤! (ì •ë‹µ: {correct_dose:.1f} mg)")
    else:
        st.error(f"âŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ {correct_dose:.1f} mg ì…ë‹ˆë‹¤.")
        st.info("í’€ì´: ì²´ì¤‘(kg) Ã— 10 mg = 1íšŒ ìš©ëŸ‰ (mg)")

# ----------------------------
# ì˜ˆì‹œ ë¬¸ì œ 2: ìˆ˜ì•¡ ì£¼ì… ì†ë„ ê³„ì‚°
# ----------------------------
st.subheader("ğŸ“Œ ë¬¸ì œ 2: ìˆ˜ì•¡ ì£¼ì… ì†ë„ ê³„ì‚°")
st.write("500 mL ìˆ˜ì•¡ì„ 4ì‹œê°„ì— ì£¼ì…í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì‹œê°„ë‹¹ ëª‡ mLë¥¼ ì£¼ì…í•´ì•¼ í• ê¹Œìš”?")

correct_rate = 500 / 4  # mL/hr
user_answer2 = st.number_input("ê³„ì‚°í•œ ì£¼ì… ì†ë„ (mL/hr)", min_value=0.0, step=0.1)

if st.button("ì •ë‹µ í™•ì¸ (ë¬¸ì œ 2)"):
    if abs(user_answer2 - correct_rate) < 0.1:
        st.success(f"âœ… ì •ë‹µì…ë‹ˆë‹¤! (ì •ë‹µ: {correct_rate:.1f} mL/hr)")
    else:
        st.error(f"âŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ {correct_rate:.1f} mL/hr ì…ë‹ˆë‹¤.")
        st.info("í’€ì´: ì´ëŸ‰ Ã· ì‹œê°„ = ì£¼ì… ì†ë„ (mL/hr)")

# ----------------------------
# ì•½ë¬¼ ì•ˆì „ ê°€ì´ë“œ
# ----------------------------
st.subheader("âš ï¸ ì•½ë¬¼ ì•ˆì „ ê°€ì´ë“œ")
st.markdown("""
- íˆ¬ì•½ ì „ **3ì›ì¹™**: í™˜ì í™•ì¸, ì•½ë¬¼ í™•ì¸, ìš©ëŸ‰ í™•ì¸  
- íˆ¬ì•½ í›„ ë°˜ë“œì‹œ **ë¶€ì‘ìš©** ê´€ì°°  
- ê³„ì‚°ì´ ì• ë§¤í•  ë• ë°˜ë“œì‹œ **ì´ì¤‘ í™•ì¸** í•„ìš”
""")
