import streamlit as st

# -------------------------------
# 페이지 기본 설정
# -------------------------------
st.set_page_config(page_title="💊 약물정보 검색", page_icon="💊", layout="wide")
st.title("💊 약물정보 검색 앱")
st.markdown("드롭다운 메뉴에서 **약물 이름을 선택**하면 정보를 확인할 수 있습니다.")

# -------------------------------
# 약물 데이터 (예시)
# -------------------------------
drug_db = {
    "타이레놀": {
        "성분": "아세트아미노펜",
        "효능": "해열, 진통",
        "복용법": "성인 1회 500mg, 1일 3회까지",
        "주의사항": "간 손상 위험 ⚠️ 음주 병용 주의"
    },
    "이부프로펜": {
        "성분": "이부프로펜",
        "효능": "소염, 진통, 해열",
        "복용법": "성인 1회 200~400mg, 필요시 6~8시간 간격 복용",
        "주의사항": "위장 장애 ⚠️ 위궤양 환자 주의"
    },
    "아목시실린": {
        "성분": "아목시실린",
        "효능": "세균 감염 치료 (항생제)",
        "복용법": "성인 1회 500mg, 1일 3회",
        "주의사항": "알레르기 반응 🚨 페니실린계 약물 알레르기 주의"
    },
    "로라타딘": {
        "성분": "로라타딘",
        "효능": "알레르기 증상 완화 (콧물, 재채기, 가려움)",
        "복용법": "성인 1일 1정 (10mg)",
        "주의사항": "졸음 가능 🚗 운전 주의"
    },
    "오메프라졸": {
        "성분": "오메프라졸",
        "효능": "위산 억제 (위궤양, 역류성 식도염 치료)",
        "복용법": "성인 1일 20mg, 아침 식전 복용",
        "주의사항": "장기 복용 시 비타민 B12 결핍 가능 ⚠️"
    },
    "암로디핀": {
        "성분": "암로디핀",
        "효능": "고혈압 치료, 협심증 개선",
        "복용법": "성인 1일 1회 5mg, 필요 시 10mg까지 증량",
        "주의사항": "어지럼증, 부종 발생 가능 ⚠️"
    },
    "메트포르민": {
        "성분": "메트포르민",
        "효능": "제2형 당뇨병 혈당 조절",
        "복용법": "성인 1일 500mg 2~3회, 식후 복용",
        "주의사항": "저혈당 위험, 신장 기능 저하 환자 금기 🚫"
    }
}

# -------------------------------
# 약물 선택 기능 (드롭다운)
# -------------------------------
st.subheader("🔍 약물 검색")

drug = st.selectbox("약물 이름을 선택하세요 👇", [""] + list(drug_db.keys()))

if drug:
    info = drug_db[drug]
    
    st.markdown(
        f"""
        <div style="
            border-radius: 15px;
            border: 2px solid #4CAF50;
            padding: 20px;
            margin-top: 15px;
            background-color: #f9fff9;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        ">
            <h2 style="color:#2E7D32;">📋 {drug}</h2>
            <p><b>💊 성분:</b> {info['성분']}</p>
            <p><b>✨ 효능/효과:</b> {info['효능']}</p>
            <p><b>🕒 복용법:</b> {info['복용법']}</p>
            <p><b>⚠️ 주의사항:</b> {info['주의사항']}</p>
        </div>
        """,
        unsafe_allow_html=True
    )
